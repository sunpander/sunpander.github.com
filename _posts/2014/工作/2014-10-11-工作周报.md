---
layout: post
title: 工作周报--十一后
---  
 
##国庆节后第一周10-11##
###讨论,学习
1. 针对工程特殊需求的更改(主要是分支合并报表,以及关联任务,任务模板)
2. 针对中超报支功能(主要根据数据项值走不同分支)
3. 业余学习需求分析相关知识.
###修改发现的bug  
1. 人员维护的时候,部门下拉使用了一个下拉树控件,在修改信息时没能保存成功.
2. 任务管理画面,修改画面时,使用右键菜单取消选中,再选择后,下一步没能正确显示
3. 工程集团,外部不能连接8081.(本以为端口问题,新增开放端口,还是不行,最终确认就不能连)
###新增功能
1. 为营销本部的板块,以及板块人员关系, 做维护画面(50%)
2. 为营销本部首页显示的图形做后台查询.[].(80%)
###下周计划
1. 完成新增功能,
2. 一个bug?,对于关联任务多次驳回时,是否显示所有驳回的信息,还是只显示最新.  
3. 讨论任务的修改计划 ,讨论确定工程板块,人员与系统原有的人员关系.
 
---
---
##国庆节后第二周10-13##
###讨论,学习
1. 了解工程需求,针对工程特殊需求的更改(主要是分支合并报表,以及关联任务,任务模板)
2. 业余学习需求分析相关知识,产品与工程项目,基本功能,扩展功能与增值功能,feature与function
###修改发现的bug  
1. 部门管理员设置 管理员时,出错,Ext.getCmp获取不到window对象.改为获取grid
2. 关联任务,启动后,被驳回,再次启动,后审批通过,再次启动,应该没有驳回意见才对
###新增功能
1. 完成营销本部板块,以及板块人员关系的维护画面.
2. 完成营销本部首页显示的图形做后台查询.[目前表名称写死,未考虑表名称更改时的情况].(90%)
3. 新增一种内置角色(adminServer)用来存储登陆后台的用户,避免所有登陆后台的都是admin角色都能查看所有,,引发另一个问题,同一个用户同时需要登陆前后台..
4. 后台新增一个按钮,调整到前台页面,直接打开bootstrap前台填报页面.
5. 新增任务时,在设置节点模板的地方,可以设置节点为合并节点,同时设置关联任务.
###下周计划
1. 任务管理修改,主要合并节点启动,回退.查询待办时标记为合并.提交合并任务时重新设置报表id

---
---
##国庆节后第三周10-24##
###讨论,学习
1. 例会,
2. 讨论工程需求,可能的更改,报表合并页面布局,报表生成时机.以及任务管理ui优化
3. 业余学习需求分析相关知识,边界界定.输入输出定义
###修改发现的bug  
1. 人员维度与人员的关联是通过用户id的,在考评中.新增用户的id与工号不相等,导致某一些数据关联的时候关联不上..原始数据是在初始化的时候把id设为跟工号一样的...在最新代码中通过工号关联
2. 为满足人员登陆不区分大小写,前期默认将登陆名转为小写..导致大写的工号存进数据库成小写,去掉默认转换.
###新增功能
1. 新增初始化人员维度的功能,可把用户表数据与人员维度同步,在新增用户的时候同步人员维度信息.
2. 任务增加批量处理功能..(包括批量复制新增,批量启动,批量回收,批量删除,批量复制新增的时候谈出期间维度框,可以修改复制后的期间维度)
3. 维度授权,新增一种系统内置的对象类型.做特殊处理,查询维度表trpde02对维度进行授权
4. 根据登陆用户,查询授权后的维度信息..
5. 维度维护画面,树节点可拖动,可批量复制新增
###下周计划
1. 批量复制任务的时候,关联任务id如何处理..比如任务A关联了任务B.当A,B任务一起复制的时候是否把复制后的关联也改一下.
2. 任务管理,主要合并节点启动,回退.查询待办时标记为合并-已基本走通,配合鄂进行初步测试,以及合并履历历史查看..

##国庆节后第四周10-31##
###讨论,学习
1. 例会,讨论工程需求,以及问题进展..
2. 做一个[任务报表综合查询画面].主要供管理员使用,查询任务以及报表所有相关信息.包括报表相关维度,相关数据项,相关表数据,以及相关文件.
3. 业余了解下android手机应用开发
###修改发现的bug  
1. 公告维护画面,当新增公告后,点击发布保存成功后,没能及时刷新,再次发布会继续新增. 
2. 任务挂目录时没做检查.添加一个检查,同一目录下一个任务不能重复挂..
###新增功能
1. 根据登陆用户,查询授权后的维度信息时,如果有关联任务,同时查询关联任务绑定维度任务完成情况.
2. 下发任务生成虚拟报表名称时,中文名称可配置是否拼接用户维度.
3. 新增一个方法,传入业务主键,只查询该流程是否已结束
4. 合并节点退回任务时,如果已退回的不能继续再退回(退回时只查询已完成,可供退回的)
5. 任务维护时,设置合并节点作为一个独立的一下步页面,另考虑节点可绑定多种维度类型对应的值(60%)
6. 任务名称批量替换.(类似查找替换,批量修改任务名称)
7. 角色流架构图,除了图形操作外,也提供树结构的操作(类似菜单树管理)(80%)
###下周计划
1. 批量复制任务的时候,关联任务id如何处理..比如任务A关联了任务B.当A,B任务一起复制的时候是否把复制后的关联也改一下.
2. 完成之前未完成的.(考虑绑定多种维度类型,树结构上操作角色流[支持拖动,以及从组织架构维度批量添加]
3. 任务批量复制..在目录树上操作..复制任务同时复制目录节点,任务名称同时拼上期间维度.
###遗留问题
1. 批量复制任务的时候,关联任务id如何处理..比如任务A关联了任务B.当A,B任务一起复制的时候是否把复制后的关联也改一下.如何控制
2. 任务管理UI优化.(从用户角度,分解多个简单操作的画面)
3. 报表控件spreedsheetgear在保存excel文件时,使用openxml 格式,java 无法正常读取.